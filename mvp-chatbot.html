<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Germano AI Chatbot</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f8f9fa; }
        .chat-container { max-width: 400px; margin: auto; background: white; padding: 15px; border-radius: 10px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); }
        .chatbox { height: 300px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px; background: #fff; }
        .user { text-align: right; color: #007bff; font-weight: bold; }
        .bot { text-align: left; color: #28a745; font-weight: bold; }
        .chat-input { display: flex; margin-top: 10px; }
        .chat-input input { flex: 1; }
    </style>
</head>
<body>

    <div class="container mt-5">
        <h2 class="text-primary">Germano AI Chatbot</h2>
        <p class="text-muted">Ask me anything!</p>

        <div class="chat-container">
            <div id="chatbox" class="chatbox">
                
            </div>
            <div class="chat-input">
                <input type="text" id="userInput" class="form-control" placeholder="Type your message..." onkeypress="handleKeyPress(event)">
                <button onclick="sendMessage()" class="btn btn-primary ms-2">Send</button>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const responses = {
            "hello": "Hello! How can I assist you today?",
            "pricing": "Our AI chatbot offers flexible plans. Are you a student or a company? I can suggest the best fit. User input: student plan, yes Bot: If you're a student, we offer three plans: â€¢ Free: 10 questions every 4h â€¢ Standard: 50 questions every 4h â€¢ Full: 100 questions every 4h",
			"cost": "Our AI chatbot offers flexible plans. Are you a student or a company? I can suggest the best fit. User input: student plan, yes Bot: If you're a student, we offer three plans: â€¢ Free: 10 questions every 4h â€¢ Standard: 50 questions every 4h â€¢ Full: 100 questions every 4h",
			"how much": "Our AI chatbot offers flexible plans. Are you a student or a company? I can suggest the best fit. User input: student plan, yes Bot: If you're a student, we offer three plans: â€¢ Free: 10 questions every 4h â€¢ Standard: 50 questions every 4h â€¢ Full: 100 questions every 4h",
            "support": "Germano can resolve 80% of customer queries instantly. Try asking about features!",
            "default": "I'm still learning! Could you rephrase that?",
			"password reset": "To reset your password, click on â€˜Forgot password?â€™ on the login page and follow the instructions.",
			"forgot password": "To reset your password, click on â€˜Forgot password?â€™ on the login page and follow the instructions.",
			"hello": "Hello! How can I assist you today?",
			"hi": "Hello! How can I assist you today?",
			"hey": "Hello! How can I assist you today?",
			"demo": "Want to see how Germano would answer your real customer questions? Send us one and weâ€™ll reply manually for now!",
			"try": "Want to see how Germano would answer your real customer questions? Send us one and weâ€™ll reply manually for now!",
			"test": "Want to see how Germano would answer your real customer questions? Send us one and weâ€™ll reply manually for now!"
        };

        function sendMessage() {
            let input = document.getElementById("userInput").value.toLowerCase();
            let chatbox = document.getElementById("chatbox");

            if (!input) return;

            chatbox.innerHTML += `<p class="user">ðŸ‘¤ You: ${input}</p>`;

            let reply = responses[input] || responses["default"];
            setTimeout(() => {
                chatbox.innerHTML += `<p class="bot">ðŸ¤– Germano: ${reply}</p>`;
                chatbox.scrollTop = chatbox.scrollHeight;
            }, 1000);
		
	var url = "https://script.google.com/macros/s/AKfycbyg4rv4KEn_RPRidCpFRFtWQohpayZ6A6rtaUf3KGfJdLWBDrVwtaKyYO31kdoZKNI/exec";

	fetch(url, {
		method: "POST",
		mode: "no-cors", // Prevents CORS error, but you won't get a response body
		headers: { "Content-Type": "application/json" },
		body: JSON.stringify({ text: input })
	})
	.then(() => console.log("Request sent successfully")) // Since no-cors mode prevents response reading
	.then(data => console.log("Response: " + data.status))
	.catch(error => console.error("Error:", error));

            document.getElementById("userInput").value = "";
        }

        function handleKeyPress(event) {
            if (event.key === "Enter") sendMessage();
        }
    </script>

</body>
</html>
